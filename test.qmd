---
title: "test"
format: html
editor: visual
execute: 
  eval: true
  echo: true
  warning: false
  freeze: true
---

```{r}
pacman::p_load(readxl, gifski, gapminder,
               plotly, gganimate, tidyverse)
```


col <- c("Country", "Continent")
globalPop <- read_xls("C:/calvintansh/ISSS608-VAA/Hands-on_Ex/Hands-on_Ex03-2/data/respopagesex2024.csv",
                      sheet = "Data") %>%
  mutate(across(col, as.factor)) %>% # mutate(across())
  mutate(Year = as.integer(Year))

```{r}
raj_data <- read_csv("C:/calvintansh/ISSS608-VAA/Take-home_Ex/Take-home_Ex01/data/respopagesex2024.csv")
```

```{r}
pyramid_data <- raj_data %>%
  group_by(Age, Sex) %>%
  summarise(Pop = sum(Pop), .groups = "drop") %>%
  mutate(Pop = ifelse(Sex == "Males", -Pop, Pop))

ggplot(pyramid_data, aes(x = Age, y = Pop, fill = Sex)) +
  geom_bar(stat = "identity") +
  coord_flip() +
  scale_y_continuous(labels = abs) +
  labs(title = "Singapore Population Pyramid (2024)",
       x = "Age", y = "Population",
       fill = "Sex") +
  theme_minimal()
```
```
